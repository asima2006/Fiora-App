# ===================================
# Fiora Server Environment Variables
# ===================================
# Copy this file to .env and fill in your actual values
# For deployment: Add these variables in your hosting platform's environment settings

# ===================================
# DATABASE CONFIGURATION
# ===================================

# MongoDB Connection URL
# Local: mongodb://localhost:27017/fiora
# Atlas: mongodb+srv://username:password@cluster.mongodb.net/fiora?retryWrites=true&w=majority
# Deployment: Use MongoDB Atlas connection string
MONGODB_URL=mongodb://localhost:27017/fiora

# ===================================
# REDIS CONFIGURATION
# ===================================

# Redis Host
# Local: localhost
# Render: red-xxxxx.render.com
# Redis Cloud: redis-xxxxx.cloud.redislabs.com
REDIS_HOST=localhost

# Redis Port (default: 6379)
REDIS_PORT=6379

# Redis Password (leave empty for local development)
REDIS_PASSWORD=

# ===================================
# SERVER CONFIGURATION
# ===================================

# Port number (Render auto-assigns, Vercel uses serverless)
# Local: 9200
# Render: 10000 (recommended)
PORT=9200

# Node Environment
# Development: development
# Production: production
NODE_ENV=development

# Server Domain (used for CORS and links)
# Local: localhost:9200
# Render: your-app.onrender.com
# Production: api.yourdomain.com
DOMAIN=localhost:9200

# ===================================
# CORS CONFIGURATION
# ===================================

# Allowed origins for CORS (comma-separated for multiple origins)
# Local: http://localhost:3000
# Vercel: https://your-app.vercel.app
# Production: https://yourdomain.com
# Use * for development only (not recommended for production)
ALLOW_ORIGIN=http://localhost:3000

# ===================================
# SECURITY
# ===================================

# JWT Secret Key (CHANGE THIS IN PRODUCTION!)
# Generate: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production

# ===================================
# ADMIN CONFIGURATION
# ===================================

# Admin User IDs (comma-separated)
# Get user ID from MongoDB after registration
# Example: 673d8a1b2c4f5e6d7a8b9c0d,673d8a1b2c4f5e6d7a8b9c0e
Administrator=

# ===================================
# FILE STORAGE (Optional - Qiniu Cloud)
# ===================================

# Leave empty to use local storage
QINIU_ACCESS_KEY=
QINIU_SECRET_KEY=
QINIU_BUCKET=
QINIU_URL_PREFIX=

# ===================================
# FILE STORAGE (Optional - Aliyun OSS)
# ===================================

# Alternative to Qiniu
ALIYUN_ACCESS_KEY_ID=
ALIYUN_ACCESS_KEY_SECRET=
ALIYUN_REGION=
ALIYUN_BUCKET=
ALIYUN_ENDPOINT=

# ===================================
# EMAIL CONFIGURATION (Optional)
# ===================================

# SMTP settings for email notifications
SMTP_HOST=
SMTP_PORT=587
SMTP_USER=
SMTP_PASS=
SMTP_FROM=noreply@yourdomain.com

# ===================================
# RATE LIMITING (Optional)
# ===================================

# Maximum requests per IP per minute
MAX_REQUESTS_PER_MINUTE=100

# ===================================
# OTHER SETTINGS
# ===================================

# Default group name for new users
DEFAULT_GROUP_NAME=fiora

# Enable/disable new user registration
DISABLE_REGISTER=false

# Enable/disable user avatars from URL
DISABLE_USER_AVATAR=false

# Maximum file upload size in bytes (10MB = 10485760)
MAX_FILE_SIZE=10485760

# Maximum image upload size in bytes (3MB = 3145728)
MAX_IMAGE_SIZE=3145728

# ===================================
# DEPLOYMENT LOCATIONS
# ===================================

# WHERE TO ADD THESE VARIABLES:

# 1. RENDER (Web Service)
#    Dashboard → Web Service → Environment
#    Add each variable individually
#    Variables are encrypted and secure

# 2. HEROKU
#    Dashboard → Settings → Config Vars
#    Or CLI: heroku config:set VARIABLE=value

# 3. RAILWAY
#    Project → Variables
#    Add variables in the UI

# 4. VERCEL (Not recommended for full backend)
#    Project → Settings → Environment Variables
#    Note: Vercel is for serverless, use for frontend only

# 5. AWS (EC2, Elastic Beanstalk)
#    Add to .env file on server
#    Or use AWS Systems Manager Parameter Store

# 6. DOCKER
#    Use docker-compose.yml environment section
#    Or use --env-file flag: docker run --env-file .env

# 7. VPS (DigitalOcean, Linode, etc.)
#    Add to /path/to/fiora/.env
#    Or add to ~/.bashrc or /etc/environment

# ===================================
# REQUIRED VARIABLES FOR PRODUCTION
# ===================================

# MUST SET:
# - MONGODB_URL (MongoDB Atlas connection string)
# - REDIS_HOST, REDIS_PORT, REDIS_PASSWORD (Redis connection)
# - JWT_SECRET (random secure string)
# - DOMAIN (your server domain)
# - ALLOW_ORIGIN (your frontend URL)
# - NODE_ENV=production

# OPTIONAL BUT RECOMMENDED:
# - Administrator (your user ID for admin access)
# - PORT (10000 for Render)
# - SMTP settings (for email notifications)

# ===================================
# SECURITY NOTES
# ===================================

# 1. NEVER commit .env file to git (it's in .gitignore)
# 2. Use different JWT_SECRET for production
# 3. Set ALLOW_ORIGIN to specific domain (not *)
# 4. Enable MongoDB authentication
# 5. Use strong Redis password
# 6. Keep this file secure and backup safely
