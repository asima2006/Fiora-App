# ===================================
# Fiora Web (Frontend) Environment Variables
# ===================================
# Copy this file to .env for local development
# For deployment: Add these in your hosting platform's environment settings

# ===================================
# BACKEND API CONFIGURATION
# ===================================

# Backend Server URL
# Local Development: http://localhost:9200
# Render Backend: https://your-backend.onrender.com
# Production: https://api.yourdomain.com
REACT_APP_SERVER_URL=http://localhost:9200

# ===================================
# BUILD CONFIGURATION
# ===================================

# Node Version (for Vercel/build systems)
NODE_VERSION=16.20.0

# Node Options (required for older webpack)
NODE_OPTIONS=--openssl-legacy-provider

# ===================================
# OPTIONAL SETTINGS
# ===================================

# Enable/disable source maps in production
GENERATE_SOURCEMAP=false

# Public URL (for deployment on subdirectory)
# PUBLIC_URL=/app

# ===================================
# DEPLOYMENT LOCATIONS
# ===================================

# WHERE TO ADD THESE VARIABLES:

# 1. VERCEL (Recommended for Frontend)
#    Dashboard → Project → Settings → Environment Variables
#    Add for Production, Preview, and Development
#    Variables:
#      - REACT_APP_SERVER_URL = https://your-backend.onrender.com
#      - NODE_VERSION = 16.20.0

# 2. NETLIFY
#    Site Settings → Build & Deploy → Environment
#    Add variables in the UI
#    Build command: yarn build
#    Publish directory: build

# 3. CLOUDFLARE PAGES
#    Workers & Pages → Your Site → Settings → Environment Variables
#    Build command: yarn build
#    Build output directory: build

# 4. GITHUB PAGES
#    Add to .env.production file
#    Or use GitHub Secrets for CI/CD

# 5. AWS S3 + CloudFront
#    Build locally with environment variables
#    Upload build folder to S3

# 6. NGINX (VPS)
#    Build with environment variables
#    Copy build folder to /var/www/html

# 7. DOCKER
#    Use build args:
#    docker build --build-arg REACT_APP_SERVER_URL=https://api.example.com

# ===================================
# ENVIRONMENT-SPECIFIC VALUES
# ===================================

# LOCAL DEVELOPMENT (.env.development)
# REACT_APP_SERVER_URL=http://localhost:9200

# STAGING (.env.staging)
# REACT_APP_SERVER_URL=https://staging-backend.onrender.com

# PRODUCTION (.env.production)
# REACT_APP_SERVER_URL=https://api.yourdomain.com

# ===================================
# VERCEL DEPLOYMENT EXAMPLE
# ===================================

# Step 1: Push code to GitHub
# Step 2: Import project to Vercel
# Step 3: Add environment variables in Vercel dashboard:
#
#   Production Environment:
#     REACT_APP_SERVER_URL = https://fiora-backend.onrender.com
#     NODE_VERSION = 16.20.0
#
#   Preview Environment:
#     REACT_APP_SERVER_URL = https://staging-backend.onrender.com
#     NODE_VERSION = 16.20.0
#
#   Development Environment:
#     REACT_APP_SERVER_URL = http://localhost:9200
#     NODE_VERSION = 16.20.0

# Step 4: Deploy (automatic on git push)

# ===================================
# RENDER DEPLOYMENT NOTES
# ===================================

# Render is NOT recommended for React frontend (use Vercel instead)
# But if you must use Render:
#   1. Create Static Site (not Web Service)
#   2. Build Command: yarn build
#   3. Publish Directory: build
#   4. Add Environment Variables in dashboard
#   5. Add REACT_APP_SERVER_URL

# ===================================
# IMPORTANT NOTES
# ===================================

# 1. All React env vars MUST start with REACT_APP_
# 2. Restart dev server after changing .env
# 3. Rebuild for production after changing variables
# 4. Variables are embedded at BUILD time, not runtime
# 5. Never commit .env files (use .env.example)

# ===================================
# SECURITY NOTES
# ===================================

# 1. Frontend env vars are PUBLIC (embedded in bundle)
# 2. NEVER put secrets/keys in REACT_APP_ variables
# 3. API keys should be in backend only
# 4. Use backend proxy for sensitive API calls

# ===================================
# TESTING DEPLOYMENT
# ===================================

# After deploying, test:
# 1. Open browser console (F12)
# 2. Check for connection errors
# 3. Try to register/login
# 4. Send a test message
# 5. Check WebSocket connection:
#    console.log(window.socket?.connected)
#    Should return: true
